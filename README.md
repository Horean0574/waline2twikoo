# Waline åˆ° Twikoo è¯„è®ºæ•°æ®è¿ç§»å·¥å…· ğŸ”„

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![GitHub](https://img.shields.io/badge/GitHub-Repository-black?logo=github)](https://github.com/Horean0574/waline2twikoo)

> ğŸš€ **å°† Waline è¯„è®ºæ•°æ®æ— ç¼è¿ç§»è‡³ Twikoo ç³»ç»Ÿ**  
> ä¿ç•™åšä¸»æ ‡è¯†ã€è¯„è®ºå±‚çº§ã€æ—¶é—´æˆ³ç­‰æ‰€æœ‰å…³é”®ä¿¡æ¯

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Python å·¥å…·ï¼Œç”¨äºå°† Waline è¯„è®ºç³»ç»Ÿå¯¼å‡ºçš„ JSON æ•°æ®è½¬æ¢ä¸º Twikoo è¯„è®ºç³»ç»Ÿå¯å¯¼å…¥çš„æ ¼å¼ã€‚æ— éœ€å¤æ‚çš„é…ç½®ï¼Œä¸€è¡Œå‘½ä»¤å³å¯å®Œæˆè¿ç§»ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| âœ… **åšä¸»æ ‡è¯†ä¿ç•™** | è‡ªåŠ¨è¯†åˆ«åšä¸»è¯„è®ºï¼Œåœ¨ Twikoo ä¸­æ˜¾ç¤ºã€Œåšä¸»ã€æ ‡ç­¾ |
| âœ… **è¯„è®ºå±‚çº§å®Œæ•´** | PID/RID å…³ç³»å®Œç¾ä¿ç•™ï¼Œçˆ¶å­è¯„è®ºä¸ä¹±åº |
| âœ… **è‡ªåŠ¨åˆ›å»ºç›®å½•** | è¾“å‡ºè·¯å¾„ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨å»ºæ–‡ä»¶å¤¹ |
| âœ… **Markdown è½¬ HTML** | è¯„è®ºå†…å®¹è‡ªåŠ¨æ¸²æŸ“ï¼Œä»£ç å—ã€ç²—ä½“ç­‰æ ¼å¼å®Œç¾ä¿ç•™ |
| âœ… **åƒåœ¾è¯„è®ºæ ‡è®°** | ä¿ç•™ Waline çš„å®¡æ ¸çŠ¶æ€ï¼Œspam è¯„è®ºè‡ªåŠ¨æ ‡è®° |
| âœ… **ç½®é¡¶çŠ¶æ€ä¿ç•™** | sticky > 0 çš„è¯„è®ºè‡ªåŠ¨è½¬ä¸ºç½®é¡¶è¯„è®º |
| âœ… **UUID é‡æ˜ å°„** | æ‰€æœ‰ ID é‡æ–°ç”Ÿæˆï¼Œé¿å…å†²çª |
| âœ… **æ—¶é—´æˆ³ç²¾å‡†** | ISO 8601 è½¬ Unix æ¯«ç§’æ—¶é—´æˆ³ |

## ğŸ”§ ç¯å¢ƒè¦æ±‚

- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **ä¾èµ–åŒ…**: 
  ```bash
  pip install click markdown

## ğŸ“¦ å®‰è£…ä¸é…ç½®
### 1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/Horean0574/waline2twikoo.git
cd waline2twikoo
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
```bash
# Windows
python -m venv .venv
.venv\Scripts\activate

# Linux/macOS
python3 -m venv .venv
source .venv/bin/activate
```

### 3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹
### åŸºç¡€ä½¿ç”¨ï¼ˆäº¤äº’å¼ï¼‰
```bash
python main.py
```

#### è¿è¡Œç¤ºä¾‹ï¼š
```text
Program started.

ä½ çš„ç«™ç‚¹åŸŸå: blog.demo.site
ä½ ï¼ˆåšä¸»ï¼‰æœ‰åœ¨æ–°çš„Twikooè¯„è®ºç³»ç»Ÿä¸Šè¯„è®ºè¿‡å—ï¼Ÿ(y/N): 
åŸ Waline è¯„è®ºæ•°æ®æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒJSONæ–‡ä»¶ï¼‰: ./test_input.json
æ–°çš„ Twikoo è¯„è®ºæ•°æ®æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼ŒJSONæ–‡ä»¶ï¼‰: ./output/twikoo.json

è¯»å– Waline è¯„è®ºæ•°æ®ä¸­â€¦â€¦  å®Œæˆâœ…
æ˜ å°„å»ºç«‹ä¸­â€¦â€¦  å®Œæˆâœ…

1/9: æ­£åœ¨è½¬æ¢æ¥è‡ª [å¼ ä¸‰] çš„è¯„è®ºâ€¦â€¦  å®Œæˆâœ…
2/9: æ­£åœ¨è½¬æ¢æ¥è‡ª [æå››] çš„è¯„è®ºâ€¦â€¦  å®Œæˆâœ…
...
å†™å…¥æ–‡ä»¶ä¸­â€¦â€¦  å®Œæˆâœ…

Program ended.
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨æŒ‡å—
### åœºæ™¯ä¸€ï¼šåšä¸»ä»æœªè¯„è®ºè¿‡
```bash
ä½ çš„ç«™ç‚¹åŸŸå: example.com
ä½ ï¼ˆåšä¸»ï¼‰æœ‰åœ¨æ–°çš„Twikooè¯„è®ºç³»ç»Ÿä¸Šè¯„è®ºè¿‡å—ï¼Ÿ(y/N): [ç›´æ¥å›è½¦]
åŸ Waline è¯„è®ºæ•°æ®æ–‡ä»¶è·¯å¾„: ./input/waline.json
æ–°çš„ Twikoo è¯„è®ºæ•°æ®æ–‡ä»¶å­˜å‚¨è·¯å¾„: ./output/twikoo.json
```

### åœºæ™¯äºŒï¼šåšä¸»å·²æœ‰ Twikoo è¯„è®ºï¼ˆéœ€ä¿ç•™åšä¸»æ ‡è¯†ï¼‰
```bash
ä½ çš„ç«™ç‚¹åŸŸå: example.com
ä½ ï¼ˆåšä¸»ï¼‰æœ‰åœ¨æ–°çš„Twikooè¯„è®ºç³»ç»Ÿä¸Šè¯„è®ºè¿‡å—ï¼Ÿ(y/N): y
ä½ çš„ç”µå­é‚®ä»¶: admin@example.com
ä½ çš„ Twikoo UID: 51fa62a9deed478544da9e60663434d8
åŸ Waline è¯„è®ºæ•°æ®æ–‡ä»¶è·¯å¾„: ./input/waline.json
æ–°çš„ Twikoo è¯„è®ºæ•°æ®æ–‡ä»¶å­˜å‚¨è·¯å¾„: ./output/twikoo.json
```

> ğŸ’¡ å¦‚ä½•è·å– Twikoo UIDï¼Ÿ
> 1. åœ¨ Twikoo åå°å¯¼å‡ºè¯„è®ºæ•°æ®
> 2. æ‰“å¼€å¯¼å‡ºçš„ JSON æ–‡ä»¶
> 3. æ‰¾åˆ°ä½ è‡ªå·±çš„è¯„è®ºï¼Œå¤åˆ¶ `_id` å­—æ®µçš„å€¼

## ğŸ§ª æµ‹è¯•æ•°æ®
é¡¹ç›®å†…ç½®äº†å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹ï¼š
| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `test_input.json` | Waline æ ¼å¼çš„æµ‹è¯•è¾“å…¥æ•°æ® |
| `test_expected_output.json` | é¢„æœŸè½¬æ¢åçš„ Twikoo æ ¼å¼æ•°æ® |

**æµ‹è¯•æ•°æ®ç±»å‹è¦†ç›–ï¼š**
- âœ… æ™®é€šè¯„è®º
- ğŸ’¬ åµŒå¥—å›å¤ï¼ˆæµ‹è¯• PID/RIDï¼‰
- ğŸ‘‘ åšä¸»è¯„è®ºï¼ˆæµ‹è¯• master æ ‡è¯†ï¼‰
- ğŸš« åƒåœ¾è¯„è®ºï¼ˆæµ‹è¯• isSpamï¼‰
- â³ å¾…å®¡æ ¸è¯„è®º
- ğŸ“ Markdown æ ¼å¼è¯„è®º
- ğŸ“Œ ç½®é¡¶è¯„è®º

## ğŸ“ é¡¹ç›®ç»“æ„
```text
waline2twikoo/
â”œâ”€â”€ .gitignore                 # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ requirements.txt           # Python ä¾èµ–
â”œâ”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£ï¼ˆä½ æ­£åœ¨é˜…è¯»ï¼‰
â”œâ”€â”€ main.py                   # ä¸»ç¨‹åº âœ¨
â”œâ”€â”€ test_input.json           # æµ‹è¯•è¾“å…¥æ•°æ®
â””â”€â”€ test_expected_output.json # é¢„æœŸè¾“å‡ºæ•°æ®
```

## ğŸ”„ æ•°æ®æ˜ å°„å…³ç³»
| Waline å­—æ®µ | Twikoo å­—æ®µ | ç±»å‹ | è½¬æ¢è¯´æ˜ |
|------------|------------|------|----------|
| `nick` | `nick` | string | æ˜µç§°ï¼Œç›´æ¥å¤åˆ¶ |
| `mail` | `mail` | string | é‚®ç®±ï¼Œç›´æ¥å¤åˆ¶ |
| | `mailMd5` | string | è‡ªåŠ¨è®¡ç®— MD5ï¼Œç”¨äº Gravatar |
| `link` | `link` | string | ä¸ªäººç½‘ç«™ |
| `ua` | `ua` | string | ç”¨æˆ·ä»£ç† |
| `ip` | `ip` | string | IP åœ°å€ |
| `url` | `url` | string | URL ç¼–ç å¤„ç† |
| | `href` | string | å®Œæ•´è¯„è®ºé“¾æ¥ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ |
| `comment` | `comment` | string | Markdown â†’ HTML |
| `objectId` | `_id` | string | é‡æ–°ç”Ÿæˆ UUID |
| `pid` | `pid` | string/null | çˆ¶è¯„è®º ID æ˜ å°„ |
| `rid` | `rid` | string/null | æ ¹è¯„è®º ID æ˜ å°„ |
| | `uid` | string | ç”¨æˆ·å”¯ä¸€æ ‡è¯† |
| | `master` | boolean | åšä¸»æ ‡è®° |
| `status` | `isSpam` | boolean | åƒåœ¾è¯„è®ºæ ‡è®° |
| `sticky` | `top` | boolean | ç½®é¡¶æ ‡è®° |
| `insertedAt` | `created` | integer | Unix æ¯«ç§’æ—¶é—´æˆ³ |
| `updatedAt` | `updated` | integer | Unix æ¯«ç§’æ—¶é—´æˆ³ |

## â“ å¸¸è§é—®é¢˜
### Q1: è½¬æ¢å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
**æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š**
- âœ… è¾“å…¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºæœ‰æ•ˆ JSON
- âœ… JSON ç»“æ„æ˜¯å¦ä¸º `{"data": {"Comment": [...]}}`
- âœ… æ˜¯å¦åŒ…å«å¿…è¦çš„å­—æ®µï¼ˆnick, mail, url, comment ç­‰ï¼‰
- âœ… ç›®æ ‡è·¯å¾„æ˜¯å¦æœ‰å†™å…¥æƒé™

### Q2: å¦‚ä½•ä¸­æ–­ç¨‹åºï¼Ÿ
æŒ‰ `Ctrl + C` å³å¯å®‰å…¨é€€å‡ºï¼Œä¼šæ˜¾ç¤º `Aborted!`ã€‚

### Q3: è¾“å‡ºæ–‡ä»¶è·¯å¾„æœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿ
æ— ä»»ä½•é™åˆ¶ï¼æ”¯æŒï¼š
- ç›¸å¯¹è·¯å¾„ï¼š./output/data.json
- ç»å¯¹è·¯å¾„ï¼š/home/user/backups/twikoo.json
- Windows è·¯å¾„ï¼šD:\è¿ç§»æ•°æ®\twikoo.json
- æ·±å±‚åµŒå¥—ï¼š./a/b/c/d/e/f/g/data.json

**æ‰€æœ‰ä¸å­˜åœ¨çš„çˆ¶ç›®å½•éƒ½ä¼šè‡ªåŠ¨åˆ›å»ºï¼**

### Q4: æ”¯æŒæ‰¹é‡è½¬æ¢å—ï¼Ÿ
ç›®å‰æ¯æ¬¡è½¬æ¢ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†å¯ä»¥å¤šæ¬¡è¿è¡Œï¼Œæ¯æ¬¡æŒ‡å®šä¸åŒçš„è¾“å…¥è¾“å‡ºè·¯å¾„ã€‚

## ğŸ“„ å¼€æºåè®®
MIT License Â© 2026

## â­ æ”¯æŒé¡¹ç›®
å¦‚æœä½ è§‰å¾—è¿™ä¸ªå·¥å…·æœ‰ç”¨ï¼Œæ¬¢è¿ç»™é¡¹ç›®ç‚¹ä¸€ä¸ª Star â­ï¸

è¿™èƒ½å¸®åŠ©æ›´å¤šäººå‘ç°è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“® è”ç³»æ–¹å¼
- æäº¤ Issueï¼š[GitHub Issues](https://github.com/Horean0574/waline2twikoo/issues)
- ä¸ªäººåšå®¢ï¼š[https://blog.hxrch.top](https://blog.hxrch.top)

Made with â¤ï¸ for Waline â†’ Twikoo migration

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£æˆ–æäº¤ Issueã€‚
